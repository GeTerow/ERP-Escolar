@model TaskWeb.Models.Materia
@using TaskWeb.Models

@{
    var turmas = ViewBag.Turmas as List<Turma> ?? new List<Turma>();
    var professores = ViewBag.Professores as List<Professor> ?? new List<Professor>();
}

<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" />
        <link href="/css/app.css" rel="stylesheet" />
    </head>
    <body class="bg-light">
        <div class="container py-4">
            <div class="card shadow-sm page-card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h1 class="h5 mb-0">Nova Matéria</h1>
                    <a class="btn btn-outline-secondary btn-sm" href="/materias"><i class="bi bi-arrow-left"></i> Voltar</a>
                </div>
                <div class="card-body">
                    @if (ViewBag.Error != null)
                    {
                        <div class="alert alert-danger">@ViewBag.Error</div>
                    }

                    <form action="/materias/create" method="POST" class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">Nome</label>
                            <input name="Nome" class="form-control" value="@Model.Nome" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">Carga Horária Semanal</label>
                            <input name="CargaHorariaSemanal" type="number" class="form-control" value="@Model.CargaHorariaSemanal" />
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Turma</label>
                            <select name="TurmaId" class="form-select">
                                <option value="">Selecione</option>
                                @foreach (var turma in turmas)
                                {
                                    <option value="@turma.TurmaId" @(turma.TurmaId == Model.TurmaId ? "selected" : string.Empty)>@turma.Nome</option>
                                }
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Professor</label>
                            <select name="ProfessorId" class="form-select">
                                <option value="">Selecione</option>
                                @foreach (var professor in professores)
                                {
                                    <option value="@professor.ProfessorId" @(professor.ProfessorId == Model.ProfessorId ? "selected" : string.Empty)>@professor.Nome</option>
                                }
                            </select>
                        </div>
                        <div class="col-12 d-flex gap-2">
                            <button class="btn btn-success"><i class="bi bi-check2-circle me-1"></i>Salvar</button>
                            <a href="/materias" class="btn btn-outline-secondary">Cancelar</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </body>
</html>
